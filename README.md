# react-shopping-cart

## 핵심 기능을 한줄로 정의

장바구니 화면에서 선택된 상품의 수량 및 총 결제 금액을 확인하고 주문을 확정할 수 있다.

## 요구 사항 분석

- API를 호출하여 장바구니 상품 데이터를 불러온다.
- Recoil을 사용하여 클라이언트 상태(개별 상품의 선택 여부, 결제 금액, 배송비 등)를 관리한다.
- 상품 선택에 따른 결제 금액, 배송비 등의 동적인 변경 사항을 처리한다.
    - 상품 선택/해제 시 결제 금액을 동적으로 변경한다.
    - 결제 금액이 10만원 이상일 경우 배송비는 무료이다.
- 장바구니 상품의 수량 변경을 할 수 있다.
- 장바구니에 담긴 상품을 제거할 수 있다.
- 새로고침해도 선택한 상품 상태를 유지해서 보여준다.

## 0.1 버전

1. API를 호출하여 장바구니 상품 데이터를 불러온다.
2. 주문금액과 배송비를 포함한 총 결제 금액을 계산한다.
3. 주문 확인 버튼을 눌렀을 때, 주문 정보를 확인할 수 있는 주문 확인 페이지로 이동한다.
    - 상품 종류
    - 상품 총 개수
    - 총 결제 금액

### 추가 기능 구현

- [x] 체크 여부에 따른 상태 관리
- [x] 새로고침해도 선택한 상품 상태 유지
- [x] 장바구니가 비어있는 경우 별도의 페이지 구현
- [x] 장바구니 전체 선택 기능 구현
- [ ] 테스트코드
  - [ ] 장바구니 데이터 로딩: /cart-items API 호출을 통해 초기 장바구니 데이터를 정상적으로 불러오는지 테스트한다.
  - [ ] 상품 선택 기능: 개별 상품의 선택/해제 시 선택 여부가 정상적으로 변경되는지 테스트한다.
  - [ ] 결제 금액 계산: 선택된 상품들의 가격 합계가 결제 금액으로 정상 반영되는지 테스트한다.
  - [x] 배송비 계산: 결제 금액에 따라 배송비가 정상적으로 계산되는지 (10만원 이상 무료) 테스트한다.
  - [ ] 수량 변경 기능: 상품의 수량을 변경할 때 올바르게 반영되는지 테스트한다.
  - [ ] 상품 제거 기능: 장바구니에서 상품을 제거할 때 정상적으로 동작하는지 테스트한다.
- [x] 디자인
- [ ] 리팩토링

## step2

- 5000원 할인 쿠폰
  - [x] 주문 금액이 100000원 이상일 때 5000원 할인 쿠폰을 사용할 수 있다.
  - [x] 주문 금액이 100000원 미만일 때 5000원 할인 쿠폰을 사용할 수 없다.
  - [x] 현재 시간이 만료일(2024년 11월 30일)이 지난 경우 쿠폰을 사용할 수 없다.
  - [x] 쿠폰 적용 시 5000원 할인된 가격으로 최종 결제 금액을 계산한다.

- 2개 구매 시 1개 무료 쿠폰
  - [ ] 현재 시간이 만료일(2024년 5월 30일)이 지난 경우 쿠폰을 사용할 수 없다.
  - [ ] 2개를 담으면 1개 가격만큼 할인한다.
  - [ ] 2개 이상 담은 제품이 여러개라면 1개 가격이 가장 비싼 제품으로 할인이 적용된다.

- 5만원 이상 구매 시 무료 배송 쿠폰
  - [ ] 주문 금액이 50000원 이상일 때 사용할 수 있다.
  - [ ] 주문 금액이 50000원 미만일 때 사용할 수 없다.
  - [ ] 현재 시간이 만료일(2024년 8월 31일)이 지난 경우 쿠폰을 사용할 수 없다.
  - [ ] 쿠폰 적용 시 주문 금액에서 배송비를 무료로 계산하여 최종 결제 금액을 계산한다.

- 미라클모닝 30% 할인 쿠폰
  - [ ] 사용 가능 시간이 아닌 경우 쿠폰을 사용할 수 없다.
  - [ ] 현재 시간이 만료일(2024년 7월 31일)이 지난 경우 쿠폰을 사용할 수 없다.
  - [ ] 쿠폰 적용 시 주문 금액의 30% 할인된 가격으로 최종 결제 금액을 계산한다.

- 쿠폰 복수 할인
  - [ ] 쿠폰은 한 번에 최대 2개 사용할 수 있다.
  - [ ] 쿠폰이 2개 선택된 겨웅 나머지 체크 박스는 disabled 처리한다.
  - [ ] 쿠폰을 2개 사용하는 경우, 적용 순서에 따라 달라지는 할인 금액 중 더 큰 할인 금액으로 최종 결제 금액을 계산한다.

- 배송비
  - [ ] 최종 결제 금액과 상관 없이 총 주문 금액이 100000원 이상일 경우 무료 배송 혜택을 적용한다.
  - [ ] 배송지가 제주도 및 도서 산간 지역일 경우, 배송비를 3000원 추가한다.
